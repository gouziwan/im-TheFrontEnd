{"version":3,"sources":["webpack:///C:/Users/91645/Desktop/Vue项目/狗子通讯/新狗子通讯/components/expression.vue?8ebc","webpack:///C:/Users/91645/Desktop/Vue项目/狗子通讯/新狗子通讯/components/expression.vue?0770","webpack:///C:/Users/91645/Desktop/Vue项目/狗子通讯/新狗子通讯/components/expression.vue?66fa","webpack:///C:/Users/91645/Desktop/Vue项目/狗子通讯/新狗子通讯/components/expression.vue?6fd3","uni-app:///components/expression.vue","webpack:///C:/Users/91645/Desktop/Vue项目/狗子通讯/新狗子通讯/components/expression.vue?f015","webpack:///C:/Users/91645/Desktop/Vue项目/狗子通讯/新狗子通讯/components/expression.vue?8616"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAuH;AACvH;AAC8D;AACL;AACc;;;AAGvE;AACmK;AACnK,gBAAgB,6KAAU;AAC1B,EAAE,gFAAM;AACR,EAAE,qFAAM;AACR,EAAE,8FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,yFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,uSAEN;AACP,KAAK;AACL;AACA,aAAa,6SAEN;AACP,KAAK;AACL;AACA,aAAa,iPAEN;AACP;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACrEA;AAAA;AAAA;AAAA;AAAumB,CAAgB,onBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACmF3nB;AACA;;AAEA,2D;AACA;AACA;AACA,4BADA,EADA;;AAIA;AACA;AACA,mBADA;AAEA,oBAFA,EADA;;AAKA;AACA,kBADA;AAEA,gBAFA,EALA;;AASA;AACA,kBADA;AAEA,qBAFA,EATA;;AAaA;AACA,kBADA;AAEA,+BAFA,EAbA;;AAiBA;AACA,mBADA;AAEA,oBAFA,EAjBA;;AAqBA;AACA,mBADA;AAEA,oBAFA,EArBA,EAJA;;;AA8BA,MA9BA,kBA8BA;AACA;AACA,kBADA;AAEA,mDAFA;AAGA,gBAHA;AAIA,qBAJA;AAKA,gBALA;AAMA,mBANA;AAOA,0BAPA;AAQA,iBARA;AASA,mBATA;AAUA,mBAVA;AAWA,qBAXA;AAYA,sBAZA;AAaA,yBAbA;AAcA,qBAdA;;AAgBA,GA/CA;AAgDA,SAhDA,qBAgDA;AACA;AACA;AACA;AACA;AACA,KAHA;AAIA,GAtDA;AAuDA,SAvDA,qBAuDA;AACA,UADA,GACA,aADA,CACA,MADA;;AAGA;AACA,UADA;AAEA;AACA,cADA,CACA,IADA,aACA,IADA,CACA,IADA,aACA,IADA;AAEA;AACA;AACA;AACA,KAPA;;AASA,GAnEA;AAoEA;AACA,gBADA,wBACA,CADA,EACA;AACA,sBADA,CACA,EADA,qBACA,EADA,CACA,KADA,qBACA,KADA;AAEA;AACA;AACA;AACA,KANA;AAOA,iBAPA,2BAOA;AACA;AACA,6BADA;AAEA,gBAFA;AAGA;AACA,mBADA,GACA,GADA,CACA,SADA;AAEA;AACA;AACA;AACA,0BADA;AAEA,0CAFA;AAGA;AACA,oBADA,GACA,YADA,CACA,MADA;AAEA,yCAFA;AAGA,iBAHA,CAGA,IAHA,QAGA,IAHA,CAGA,IAHA,QAGA,IAHA;AAIA;;AAEA;AACA;AACA;AACA,aAZA;;AAcA,SArBA;;AAuBA,KA/BA;AAgCA;AACA,2BAjCA,qCAiCA;AACA,YADA,GACA,UADA,CACA,MADA;AAEA;AACA;AACA,uBADA;AAEA,qBAFA;AAGA,uBAHA;AAIA,kCAJA,EADA;;;AAQA,KA3CA;AA4CA;AACA,eA7CA,uBA6CA,MA7CA,EA6CA;AACA;AACA;AACA;AACA;AACA,SAFA,EAEA,IAFA;AAGA,OALA;AAMA,KApDA;;AAsDA;AACA,iBAvDA,2BAuDA;AACA,wDADA,SACA,MADA;AAEA,sEAFA,SAEA,OAFA;AAGA,iDAHA;AAIA,mGAJA;AAKA,KA5DA;AA6DA;AACA,qBA9DA,6BA8DA,CA9DA,EA8DA;AACA,WADA,GACA,gBADA,CACA,KADA;AAEA;AACA;AACA,KAlEA;AAmEA,oBAnEA,4BAmEA,GAnEA,EAmEA,GAnEA,EAmEA,GAnEA,EAmEA;AACA,cADA,GACA,IADA,CACA,QADA;AAEA;AACA;AACA;AACA,KAxEA;AAyEA,UAzEA,kBAyEA,CAzEA,EAyEA;AACA;AACA,KA3EA;AA4EA,WA5EA,qBA4EA;AACA;AACA,KA9EA;AA+EA,mBA/EA,2BA+EA,CA/EA,EA+EA;AACA,aADA,GACA,QADA,CACA,OADA;AAEA;AACA;AACA,KAnFA;AAoFA,oBApFA,8BAoFA;AACA;AACA,KAtFA;AAuFA,qBAvFA,+BAuFA;AACA;AACA;AACA,KA1FA;AA2FA,+BA3FA,yCA2FA;AACA;;AAEA,KA9FA;AA+FA,wBA/FA,gCA+FA,IA/FA,EA+FA;AACA;;AAEA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KAvGA;AAwGA,oBAxGA,4BAwGA,IAxGA,EAwGA;AACA;AACA,KA1GA;AA2GA,2BA3GA,qCA2GA;AACA;AACA;AACA;AACA;AACA,WAFA;AAGA;AACA,OANA;AAOA,KAnHA,EApEA;;AAyLA;AACA,mBADA,6BACA;AACA;AACA,KAHA,EAzLA;;AA8LA;AACA;AACA,qBADA;AAEA,aAFA,mBAEA,QAFA,EAEA;AACA;AACA;AACA;AACA;AACA,yDADA;AAEA,qEAFA,SAEA,MAFA;AAGA,yEAHA;AAIA,WAJA;AAKA,SAPA,MAOA;AACA;AACA;AACA,WAFA,EAEA,aAFA;AAGA;AACA;AACA;AACA,SAFA,EAEA,CAFA;AAGA,OAnBA,EADA,EA9LA,E;;;;;;;;;;;;;ACvFA;AAAA;AAAA;AAAA;AAA4mC,CAAgB,8jCAAG,EAAC,C;;;;;;;;;;;ACAhoC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"components/expression.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./expression.vue?vue&type=template&id=5c20c3da&\"\nvar renderjs\nimport script from \"./expression.vue?vue&type=script&lang=js&\"\nexport * from \"./expression.vue?vue&type=script&lang=js&\"\nimport style0 from \"./expression.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/expression.vue\"\nexport default component.exports","export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./expression.vue?vue&type=template&id=5c20c3da&\"","var components\ntry {\n  components = {\n    uPopup: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-popup/u-popup\" */ \"@/uni_modules/uview-ui/components/u-popup/u-popup.vue\"\n      )\n    },\n    uNavbar: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-navbar/u-navbar\" */ \"@/uni_modules/uview-ui/components/u-navbar/u-navbar.vue\"\n      )\n    },\n    uToast: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-toast/u-toast\" */ \"@/uni_modules/uview-ui/components/u-toast/u-toast.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.isShow\n    ? _vm.__map(_vm.imgArr, function(item, __i0__) {\n        var $orig = _vm.__get_orig(item)\n\n        var m0 = _vm.isCkeckBoxSelect(item)\n        return {\n          $orig: $orig,\n          m0: m0\n        }\n      })\n    : null\n\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.checkboxArr = []\n    }\n  }\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./expression.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./expression.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"expression\" v-if=\"isShow\" :style=\"{\r\n\t\tbottom:bottom+'px'\r\n\t}\" :animation=\"animation\">\r\n\t\t<view class=\"expression-tar\">\r\n\t\t\t<view class=\"expression-tar-poasition\" @click=\"onClickSwitchPage\">\r\n\t\t\t\t<view class=\"expression-icon iconfont\" v-for=\"(item,index) in classNameArr\" :class=\"item\" :key=\"index\" :data-index=\"index\" ></view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"expression-tar-back\" :style=\"{\r\n\t\t\t\tleft:backOffset+'px'\r\n\t\t\t}\"></view>\r\n\t\t</view>\r\n\t\t<view class=\"expression-swiper-content\">\r\n\t\t\t<swiper class=\"expression-swiper\" :current=\"current\" :style=\"{\r\n\t\t\t\theight:getSwitchHeight+'px'\r\n\t\t\t}\" @change=\"onChangeCurrent\">\r\n\t\t\t\t<swiper-item class=\"expression-swiper-item-text\" @click=\"onClickEmoji\">\r\n\t\t\t\t\t<view class=\"expression-swiper-list-empji\">\r\n\t\t\t\t\t\t<text class=\"expression-swiper-item-empji\" data-id=\"1\" :data-value=\"item\" v-for=\"(item,index) in emojiArr\" :key=\"index\" >\r\n\t\t\t\t\t\t\t{{item}}\r\n\t\t\t\t\t\t</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</swiper-item>\r\n\t\t\t\t\r\n\t\t\t\t<swiper-item class=\"expression-swiper-item-images\" @click=\"onClickEmoji\">\r\n\t\t\t\t\t<view class=\"expression-swiper-item-img\" @click=\"onClickShowPopup\">\r\n\t\t\t\t\t\t<view class=\"expression-img-addImg\">\r\n\t\t\t\t\t\t\t<text class=\"iconfont icon-add\"></text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"expression-swiper-item-img\" :data-value=\"item\" data-id=\"2\" v-for=\"(item,index) in imgArr\" :key=\"index\">\r\n\t\t\t\t\t\t<image class=\"expression-img-swiper\" :data-value=\"item\" data-id=\"2\"  mode=\"aspectFit\" :src=\"img + item.name\"></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</swiper-item>\r\n\t\t\t</swiper>\r\n\t\t\t\r\n\t\t\t<view class=\"expression-swiper-empji-button-content\" v-if=\"current == 0\">\r\n\t\t\t\t<button class=\"expression-button\" type=\"default\" @click=\"onClear\" :disabled=\"clearDisabled\">x</button>\r\n\t\t\t\t<button class=\"expression-button send\" type=\"default\" @click=\"onSend\" :disabled=\"sendDisabled\">发送</button>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<u-popup :show=\"showPopup\">\r\n\t\t    <view class=\"popup-content\" :style=\"{\r\n\t\t\t\theight:innerHeight+'px'\r\n\t\t\t}\">\r\n\t\t\t\t <u-navbar title=\"添加单个表情\" @leftClick=\"onClickClosePopup\" @rightClick=\"onClickManagementExpression\">\r\n\t\t\t\t\t <template slot=\"left\">\r\n\t\t\t\t\t\t <view>关闭</view>\r\n\t\t\t\t\t </template>\r\n\t\t\t\t\t <template slot=\"right\">\r\n\t\t\t\t\t\t <view>{{isShowDelete ? \"取消\" : \"管理\"}}</view>\r\n\t\t\t\t\t </template>\r\n\t\t\t\t </u-navbar>\r\n\t\t\t\t \r\n\t\t\t\t <view class=\"content-expression\">\r\n\t\t\t\t\t <view class=\"content-expression-item addImg\" @click=\"onClickAddImg\" v-if=\"!isShowDelete\">\r\n\t\t\t\t\t\t <view class=\"expression-img-addImg\">\r\n\t\t\t\t\t\t \t<text class=\"iconfont icon-add\"></text>\r\n\t\t\t\t\t\t </view>\r\n\t\t\t\t\t </view>\r\n\t\t\t\t\t <view class=\"content-expression-item\" v-for=\"item in imgArr\">\r\n\t\t\t\t\t\t<image class=\"expression-img-swiper\" :data-value=\"item\" data-id=\"2\"  mode=\"aspectFit\" :src=\"img + item.name\"></image>\r\n\t\t\t\t\t\t\t<view class=\"expression-u-checkbox\" @click=\"onClickCheckBoxState(item)\" v-show=\"isShowDelete\">\r\n\t\t\t\t\t\t\t\t<view class=\"expression-u-checkbox-offset\">\r\n\t\t\t\t\t\t\t\t\t<AppChckeBox selectBack=\"#FBE836\" :checkbox=\"isCkeckBoxSelect(item)\" :data=\"item\" :size=\"20\"></AppChckeBox>\t\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\t\r\n\t\t\t\t\t </view>\r\n\t\t\t\t </view>\r\n\t\t\t\t \r\n\t\t\t\t <view class=\"popup-content-delete\" v-if=\"isShowDelete\">\r\n\t\t\t\t\t <view @click=\"onClickDeleteExpression\">删除</view>\r\n\t\t\t\t\t <view style=\"margin-right: auto;margin-left: 20px;\" @click=\"checkboxArr = []\">清空</view>\r\n\t\t\t\t </view>\r\n\t\t\t\t <!-- 表情包加载 -->\r\n\t\t\t\t <u-toast ref=\"uToast\"></u-toast>\r\n\t\t    </view>\r\n\t\t</u-popup>\r\n\t</view>\n</template>\n\n<script>\r\n\timport emoji from \"../js_sdk/m-emoji/m-emoji_2.0.0/emoji.js\"\r\n\timport { img,uploadExpression,getExpression,deleteExpression } from \"../Api/index.js\"\r\n\timport AppChckeBox from \"./chckebox.vue\"\r\n\timport {duration} from \"../config.js\"\r\n\texport default {\r\n\t\tcomponents:{\r\n\t\t\tAppChckeBox\r\n\t\t},\r\n\t\tprops:{\r\n\t\t\tshow:{\r\n\t\t\t\ttype:Boolean,\r\n\t\t\t\tdefault:false\r\n\t\t\t},\r\n\t\t\theight:{\r\n\t\t\t\ttype:Number,\r\n\t\t\t\tdefault:0\r\n\t\t\t},\r\n\t\t\tbaColor:{\r\n\t\t\t\ttype:String,\r\n\t\t\t\tdefault:'#fff'\r\n\t\t\t},\r\n\t\t\tduration:{\r\n\t\t\t\ttype:Number,\r\n\t\t\t\tdefault:duration\r\n\t\t\t},\r\n\t\t\tclearDisabled:{\r\n\t\t\t\ttype:Boolean,\r\n\t\t\t\tdefault:false\r\n\t\t\t},\r\n\t\t\tsendDisabled:{\r\n\t\t\t\ttype:Boolean,\r\n\t\t\t\tdefault:false\r\n\t\t\t}\r\n\t\t},\r\n\t\tdata(){\r\n\t\t\treturn {\r\n\t\t\t\temojiArr:[],\r\n\t\t\t\tclassNameArr:['icon-biaoqing','icon-aixin'],\r\n\t\t\t\tcurrent:0,\r\n\t\t\t\timg:img,\r\n\t\t\t\timgArr:[],\r\n\t\t\t\tbackOffset:0,\r\n\t\t\t\tbottom:-this.height,\r\n\t\t\t\threadBar:0,\r\n\t\t\t\tanimation:'',\r\n\t\t\t\tisShow:false,\r\n\t\t\t\temojiArrKey:{},\r\n\t\t\t\tshowPopup:false,\r\n\t\t\t\tisShowDelete:false,\r\n\t\t\t\tcheckboxArr:[]\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated(){\r\n\t\t\tthis.emojiArr = emoji.slice(0,69);\r\n\t\t\tthis.emojiArr.forEach(el=>{\r\n\t\t\t\tlet code = el.charCodeAt(el.length - 1);\r\n\t\t\t\tthis.emojiArrKey[code] = el.length\r\n\t\t\t})\t\r\n\t\t},\r\n\t\tmounted(){\r\n\t\t\tconst { userid } = this.userInfo\r\n\t\t\t\r\n\t\t\tgetExpression(\r\n\t\t\t\tuserid,\r\n\t\t\t\tres=>{\r\n\t\t\t\t\tconst {code,data} = res.data\r\n\t\t\t\t\tif(code == 200){\r\n\t\t\t\t\t\tthis.imgArr = data\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\tonClickEmoji(e){\r\n\t\t\t\tconst { id,value } = e.target.dataset;\r\n\t\t\t\tif(id == undefined || value == undefined) return\r\n\t\t\t\tconsole.log(value)\r\n\t\t\t\tthis.$emit('onChange',{id,value})\r\n\t\t\t},\r\n\t\t\tonClickAddImg(){\r\n\t\t\t\tuni.chooseImage({\r\n\t\t\t\t\tsourceType:['album'],\r\n\t\t\t\t\tcount:1,\r\n\t\t\t\t\tsuccess:res=>{\r\n\t\t\t\t\t\tconst {tempFiles} = res;\r\n\t\t\t\t\t\tconst path = tempFiles[0].path\r\n\t\t\t\t\t\tthis.uploadExpressionLoading()\r\n\t\t\t\t\t\tuploadExpression({\r\n\t\t\t\t\t\t\tfilePath:path,\r\n\t\t\t\t\t\t\tuserid:this.userInfo.userid,\r\n\t\t\t\t\t\t\tsuccess:res=>{\r\n\t\t\t\t\t\t\t\tconst { uToast } = this.$refs;\r\n\t\t\t\t\t\t\t\t res = JSON.parse(res.data);\r\n\t\t\t\t\t\t\t\t const {code,data} = res;\r\n\t\t\t\t\t\t\t\t if(data instanceof Object && code == 200){\r\n\t\t\t\t\t\t\t\t\t \r\n\t\t\t\t\t\t\t\t\t this.imgArr.push(data)\r\n\t\t\t\t\t\t\t\t }\r\n\t\t\t\t\t\t\t\t uToast.hide()\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 上传表情包加载图标\r\n\t\t\tuploadExpressionLoading(){\r\n\t\t\t\tconst { uToast } = this.$refs;\r\n\t\t\t\tuToast.show(\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttype: 'loading',\r\n\t\t\t\t\t\ttitle: '正在加载',\r\n\t\t\t\t\t\tmessage: \"正在加载\",\r\n\t\t\t\t\t\tduration:9999999999999999\r\n\t\t\t\t\t},\r\n\t\t\t\t)\r\n\t\t\t},\r\n\t\t\t// 获取点击节点的信息\r\n\t\t\tgetNodeInfo(select,fun = 'selectAll'){\r\n\t\t\t\treturn new Promise((resolve)=>{\r\n\t\t\t\t\tconst query = uni.createSelectorQuery().in(this);\r\n\t\t\t\t\tquery[fun](select).boundingClientRect(res=>{\r\n\t\t\t\t\t\tresolve(res)\r\n\t\t\t\t\t}).exec()\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 获取 图标下的背景图片的偏移量\r\n\t\t\tasync getBackOffset(index = 0){\r\n\t\t\t\tlet result = await this.getNodeInfo('.expression-icon');\r\n\t\t\t\tlet result1 = await this.getNodeInfo('.expression-tar-back','select');\r\n\t\t\t\tif(result==null || result1==null) return\r\n\t\t\t\tthis.backOffset = ((result[index].width - result1.width) / 2) + result[index].left;\r\n\t\t\t},\r\n\t\t\t// 点击切换 switch\r\n\t\t\tonClickSwitchPage(e){\r\n\t\t\t\tconst { index } = e.target.dataset;\r\n\t\t\t\tthis.getBackOffset(index)\r\n\t\t\t\tthis.current = index;\r\n\t\t\t},\r\n\t\t\tcreatedAanimtion(fun,val,key){\r\n\t\t\t\tconst { duration} = this\r\n\t\t\t\tlet animation = uni.createAnimation({ duration })\r\n\t\t\t\tanimation[fun](val).step();\r\n\t\t\t\tthis[key] = animation.export()\r\n\t\t\t},\r\n\t\t\tonSend(e){\r\n\t\t\t\tthis.$emit('onSend',e);\r\n\t\t\t},\r\n\t\t\tonClear(){\r\n\t\t\t\tthis.$emit('onClear',this.emojiArrKey)\r\n\t\t\t},\r\n\t\t\tonChangeCurrent(e){\r\n\t\t\t\tconst { current } = e.detail;\r\n\t\t\t\tthis.current = current\r\n\t\t\t\tthis.getBackOffset(current)\r\n\t\t\t},\r\n\t\t\tonClickShowPopup(){\r\n\t\t\t\tthis.showPopup = true\r\n\t\t\t},\r\n\t\t\tonClickClosePopup(){\r\n\t\t\t\tthis.showPopup = false\r\n\t\t\t\tthis.isShowDelete = false\r\n\t\t\t},\r\n\t\t\tonClickManagementExpression(){\r\n\t\t\t\tthis.isShowDelete = !this.isShowDelete\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\tonClickCheckBoxState(data){\r\n\t\t\t\tlet boolean = this.checkboxArr.indexOf(data.id);\r\n\t\t\t\t\r\n\t\t\t\tif(boolean === -1){\r\n\t\t\t\t\tthis.checkboxArr.push(data.id)\r\n\t\t\t\t}else{\r\n\t\t\t\t\t this.checkboxArr.splice(boolean,1)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tisCkeckBoxSelect(data){\r\n\t\t\t\treturn this.checkboxArr.indexOf(data.id) !== -1\t\r\n\t\t\t},\r\n\t\t\tonClickDeleteExpression(){\r\n\t\t\t\tdeleteExpression(this.checkboxArr,res=>{\r\n\t\t\t\t\tif(res.data.code == 200){\r\n\t\t\t\t\t\tthis.checkboxArr.forEach(el=>{\r\n\t\t\t\t\t\t\tthis.imgArr = this.imgArr.filter(e=>e.id!==el);\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed:{\r\n\t\t\tgetSwitchHeight(){\r\n\t\t\t\treturn this.height - this.hreadBar\r\n\t\t\t}\r\n\t\t},\r\n\t\twatch:{\r\n\t\t\tshow:{\r\n\t\t\t\timmediate:true,\r\n\t\t\t\thandler(newValue){\r\n\t\t\t\t\tlet val = newValue ? 0 : -this.height\r\n\t\t\t\t\tif(newValue){\r\n\t\t\t\t\t\tthis.isShow = newValue\r\n\t\t\t\t\t\tsetTimeout(async ()=>{\r\n\t\t\t\t\t\t\tthis.getBackOffset(this.current)\r\n\t\t\t\t\t\t\tlet result = await this.getNodeInfo('.expression-tar','select');\r\n\t\t\t\t\t\t\tif(result !==null) this.hreadBar = result.height\r\n\t\t\t\t\t\t},0)\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t\tthis.isShow = newValue\r\n\t\t\t\t\t\t},this.duration)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\tthis.createdAanimtion('bottom', val,'animation')\r\n\t\t\t\t\t},0)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\n</script>\n\n<style lang=\"scss\">\r\n\t.expression{\r\n\t\tposition: absolute;\r\n\t\tbottom: 0;\r\n\t\twidth: 100%;\r\n\t\tbackground-color: $uni-bg-color;\r\n\t\t.expression-tar{\r\n\t\t\twhite-space: nowrap;\r\n\t\t\toverflow-x: auto;\r\n\t\t\tborder-top: solid 1px $uni-border-color;\r\n\t\t\tborder-bottom: solid 1px $uni-border-color;\r\n\t\t\tposition: relative;\r\n\t\t\tbackground-color:  transparent;\r\n\t\t\tpadding: 5px 0;\r\n\t\t\t.iconfont{\r\n\t\t\t\tdisplay: inline-block;\r\n\t\t\t\tfont-size: $uni-font-icon-base;\r\n\t\t\t\tpadding: 5px 20px;\r\n\t\t\t}\r\n\t\t\t.expression-tar-poasition{\r\n\t\t\t\tposition: relative;\r\n\t\t\t\tz-index: 1;\r\n\t\t\t}\r\n\t\t\t.expression-tar-back{\r\n\t\t\t\twidth: calc(#{$uni-font-icon-el} + 5px);\r\n\t\t\t\theight:calc(#{$uni-font-icon-el} + 5px);\r\n\t\t\t\tbackground-color: $uni-ba-color-ligre;\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\ttop:50%;\r\n\t\t\t\ttransform: translateY(-50%);\r\n\t\t\t\tleft: 3;\r\n\t\t\t\tz-index: 0;\r\n\t\t\t\tborder-radius: 5px;\r\n\t\t\t}\r\n\t\t}\r\n\t\t.expression-tar::-webkit-scrollbar{\r\n\t\t\tdisplay:none\r\n\t\t}\r\n\t\t.expression-swiper-content{\r\n\t\t\tposition: relative;\r\n\t\t\t.expression-swiper-empji-button-content{\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\twidth:  calc(((100% - 15rpx * 2 * 5) / 5) * 2);\r\n\t\t\t\tborder:solid 1px $uni-ba-color-ligre;\r\n\t\t\t\theight: calc(((100vw - 15rpx * 2 * 5) / 5));\r\n\t\t\t\tbackground-color: red;\r\n\t\t\t\tright:0;\r\n\t\t\t\tbottom: 0;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tbackground-color:$uni-ba-color-ligre;\r\n\t\t\t\tbox-shadow:  20px 20px 50px #f5f5f5 inset;\r\n\t\t\t\t.expression-button{\r\n\t\t\t\t\tdisplay: inline-block;\r\n\t\t\t\t\theight: calc(((100vw - 15rpx * 2 * 5) / 5) / 2);\r\n\t\t\t\t\tline-height: calc(((100vw - 15rpx * 2 * 5) / 5) / 2);\r\n\t\t\t\t\tfont-size: $uni-font-size-base;\t\r\n\t\t\t\t}\r\n\t\t\t\t.expression-button.send{\r\n\t\t\t\t\tbackground-color: $uni-color-primary;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t.expression-swiper{\r\n\t\t\tbackground-color:$uni-ba-color-ligre;\r\n\t\t}\r\n\t\t\r\n\t\t.expression-swiper-item-text{\r\n\t\t\toverflow: auto;\r\n\t\t\tdisplay: block;\r\n\t\t\t.expression-swiper-list-empji{\r\n\t\t\t\tpadding-bottom: calc(calc(((100vw - 15rpx * 2 * 5) / 5)) + 10px);\r\n\t\t\t\t.expression-swiper-item-empji{\r\n\t\t\t\t\tdisplay: inline-block;\r\n\t\t\t\t\twidth: 20%;\r\n\t\t\t\t\ttext-align: center;\r\n\t\t\t\t\tpadding: 5px 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t.expression-swiper-item-images{\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-wrap: wrap;\r\n\t\t\toverflow: auto;\r\n\t\t\t.expression-swiper-item-img{\r\n\t\t\t\t// 左右2变\r\n\t\t\t\twidth: calc((100% - 15rpx * 2 * 5) / 5);\r\n\t\t\t\theight: calc((100vw - 15rpx * 2 * 5) / 5);\r\n\t\t\t\tmargin:  10px 15rpx;\r\n\t\t\t\tbackground-color: $uni-bg-color;\r\n\t\t\t\t.expression-img-addImg{\r\n\t\t\t\t\tborder: dashed 1px #000000;\r\n\t\t\t\t\theight: 100%;\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tjustify-content: center;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\tborder-radius: 10px;\r\n\t\t\t\t\t.iconfont.icon-add{\r\n\t\t\t\t\t\tfont-size:  calc((100vw - 15rpx * 2 * 5) / 5 * 0.5); \r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t.expression-img-swiper{\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\theight: 100%;\r\n\t\t\t\t\tdisplay: inline-block;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t.popup-content{\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 100vh;\r\n\t\t\toverflow: auto;\r\n\t\t\tbackground-color: $uni-ba-color-ligre;\r\n\t\t\tposition: relative;\r\n\t\t\t.content-expression{\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-wrap: wrap;\r\n\t\t\t\t.content-expression-item{\r\n\t\t\t\t\tbackground-color: $uni-bg-color;\r\n\t\t\t\t\twidth: calc((100% - 8 * 5px) / 4) ;\r\n\t\t\t\t\theight: calc((100vw - 8 * 5px) / 4);\r\n\t\t\t\t\tmargin: 5px;\r\n\t\t\t\t\tposition: relative;\r\n\t\t\t\t\t.expression-img-swiper{\r\n\t\t\t\t\t\tdisplay: block;\r\n\t\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\t\theight: 100%;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t.expression-u-checkbox{\r\n\t\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\t\tright: 0px;\r\n\t\t\t\t\t\tbottom: 0px;\r\n\t\t\t\t\t\tdisplay: inline-block;\r\n\t\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\t\theight: 100%;\r\n\t\t\t\t\t\t.expression-u-checkbox-offset{\r\n\t\t\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\t\t\tright: 5px;\r\n\t\t\t\t\t\t\tbottom: 5px;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t.content-expression-item.addImg{\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tjustify-content: center;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\t.iconfont.icon-add{\r\n\t\t\t\t\t\tfont-size: 30px;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t.popup-content-delete{\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tflex-direction: row-reverse;\r\n\t\t\t\tpadding-right: 20px;\r\n\t\t\t\tbox-sizing: border-box;\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\tbottom: 0;\r\n\t\t\t\tbackground-color: #FFFFFF;\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 50px;\r\n\t\t\t\tcolor: $uni-color-primary-dark;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\n</style>\n","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./expression.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./expression.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1646625161558\n      var cssReload = require(\"C:/Users/91645/Desktop/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}