{"version":3,"sources":["webpack:///C:/Users/91645/Desktop/Vue项目/狗子通讯/新狗子通讯/components/lxiaoxiao-cropper/lxiaoxiao-cropper.vue?e773","webpack:///C:/Users/91645/Desktop/Vue项目/狗子通讯/新狗子通讯/components/lxiaoxiao-cropper/lxiaoxiao-cropper.vue?1585","webpack:///C:/Users/91645/Desktop/Vue项目/狗子通讯/新狗子通讯/components/lxiaoxiao-cropper/lxiaoxiao-cropper.vue?1473","webpack:///C:/Users/91645/Desktop/Vue项目/狗子通讯/新狗子通讯/components/lxiaoxiao-cropper/lxiaoxiao-cropper.vue?bcc1","uni-app:///components/lxiaoxiao-cropper/lxiaoxiao-cropper.vue","webpack:///C:/Users/91645/Desktop/Vue项目/狗子通讯/新狗子通讯/components/lxiaoxiao-cropper/lxiaoxiao-cropper.vue?2945","webpack:///C:/Users/91645/Desktop/Vue项目/狗子通讯/新狗子通讯/components/lxiaoxiao-cropper/lxiaoxiao-cropper.vue?cfbd"],"names":[],"mappings":"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","file":"components/lxiaoxiao-cropper/lxiaoxiao-cropper.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./lxiaoxiao-cropper.vue?vue&type=template&id=6470a69a&name=cropper&\"\nvar renderjs\nimport script from \"./lxiaoxiao-cropper.vue?vue&type=script&lang=js&\"\nexport * from \"./lxiaoxiao-cropper.vue?vue&type=script&lang=js&\"\nimport style0 from \"./lxiaoxiao-cropper.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/lxiaoxiao-cropper/lxiaoxiao-cropper.vue\"\nexport default component.exports","export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./lxiaoxiao-cropper.vue?vue&type=template&id=6470a69a&name=cropper&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./lxiaoxiao-cropper.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./lxiaoxiao-cropper.vue?vue&type=script&lang=js&\"","<template name=\"cropper\">\r\n\t<view>\r\n\t\t<image :src=\"imgSrc.imgSrc\" class=\"my-avatar\" mode=\"aspectFill\" @click=\"fSelect\" :style=\"imgStyle\"></image>\r\n\t\t<!-- 上传图片 -->\r\n\t\t<canvas canvas-id=\"avatar-canvas\" id=\"avatar-canvas\" class=\"my-canvas\" :style=\"{top: styleTop, height: cvsStyleHeight}\"\r\n\t\t disable-scroll=\"false\"></canvas>\r\n\t\t<!-- 截取边框 -->\r\n\t\t<canvas canvas-id=\"oper-canvas\" id=\"oper-canvas\" class=\"oper-canvas\" :style=\"{top: styleTop, height: cvsStyleHeight}\"\r\n\t\t disable-scroll=\"false\" @touchstart=\"fStart\" @touchmove=\"fMove\" @touchend=\"fEnd\"></canvas>\r\n\t\t<view class=\"oper-wrapper\" :style=\"{display: styleDisplay}\">\r\n\t\t\t<view class=\"btn-wrapper\" v-if=\"showOper\">\r\n\t\t\t\t<view @click=\"fClose\" hover-class=\"hover\">取消</view>\r\n\t\t\t\t<view @click=\"fUpload\" hover-class=\"hover\">选取</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\tconst tabHeight = 70;\r\n\texport default {\r\n\t\tname: \"cropper\",\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tcvsStyleHeight: '0px',\r\n\t\t\t\tstyleDisplay: 'none',\r\n\t\t\t\tstyleTop: '-10000px',\r\n\t\t\t\tprvTop: '-10000px',\r\n\t\t\t\timgStyle: {},\r\n\t\t\t\tselStyle: {},\r\n\t\t\t\tshowOper: true,\r\n\t\t\t\timgSrc: {\r\n\t\t\t\t\timgSrc: ''\r\n\t\t\t\t},\r\n\t\t\t\tqlty: 0.9,\r\n\t\t\t\tpostWidthFirst: {},\r\n\t\t\t};\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tavatarSrc() {\r\n\t\t\t\tthis.imgSrc.imgSrc = this.avatarSrc;\r\n\t\t\t}\r\n\t\t},\r\n\t\tprops: {\r\n\t\t\tavatarSrc: '',\r\n\t\t\tavatarStyle: '',\r\n\t\t\tselWidth: '',\r\n\t\t\tselHeight: '',\r\n\t\t\texpWidth: '',\r\n\t\t\texpHeight: '',\r\n\t\t\tminScale: '',\r\n\t\t\tmaxScale: '',\r\n\t\t\tcanScale: '',\r\n\t\t\tnoTop: '',\r\n\t\t\tquality: '',\r\n\t\t\tindex: ''\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tthis.ctxCanvas = uni.createCanvasContext('avatar-canvas', this);\r\n\t\t\tthis.ctxCanvasOper = uni.createCanvasContext('oper-canvas', this);\r\n\r\n\t\t\tthis.qlty = parseInt(this.quality) || 0.9;\r\n\t\t\tthis.imgSrc.imgSrc = this.avatarSrc;\r\n\t\t\tthis.letScale = this.canScale === 'false' ? 0 : 1;\r\n\t\t\tthis.indx = this.index || undefined;\r\n\t\t\tthis.mnScale = this.minScale || 0.3;\r\n\t\t\tthis.mxScale = this.maxScale || 4;\r\n\t\t\tthis.noBar = this.noTop ? false : true;\r\n\t\t\tif (!!this.noBar) {\r\n\t\t\t\tthis.moreHeight = 0;\r\n\t\t\t\tthis.fWindowResize();\r\n\t\t\t} else {\r\n\t\t\t\tuni.showTabBar({\r\n\t\t\t\t\tcomplete: (res) => {\r\n\t\t\t\t\t\tthis.moreHeight = (res.errMsg === 'showTabBar:ok') ? 50 : 0;\r\n\t\t\t\t\t\tthis.fWindowResize();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tfWindowResize() {\r\n\t\t\t\tlet sysInfo = uni.getSystemInfoSync();\r\n\t\t\t\tthis.platform = sysInfo.platform;\r\n\t\t\t\tthis.pixelRatio = sysInfo.pixelRatio;\r\n\t\t\t\tthis.windowWidth = sysInfo.windowWidth;\r\n\t\t\t\t// #ifdef H5\r\n\t\t\t\tthis.drawTop = sysInfo.windowTop;\r\n\t\t\t\tthis.windowHeight = sysInfo.windowHeight + sysInfo.windowBottom;\r\n\t\t\t\tthis.cvsStyleHeight = this.windowHeight - tabHeight + 'px';\r\n\t\t\t\t// #endif\r\n\t\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\t\tthis.windowHeight = sysInfo.windowHeight;\r\n\t\t\t\tthis.cvsStyleHeight = this.windowHeight - tabHeight + 'px';\r\n\t\t\t\tthis.cvsStyleHeight = this.windowHeight - tabHeight + 'px'\r\n\t\t\t\t// #endif\r\n\t\t\t\tthis.pxRatio = this.windowWidth / 750;\r\n\r\n\t\t\t\tlet style = this.avatarStyle;\r\n\t\t\t\tthis.imgStyle = style;\r\n\t\t\t\tthis.expWidth && (this.exportWidth = this.expWidth.indexOf('rpx') >= 0 ? parseInt(this.expWidth) * this.pxRatio :\r\n\t\t\t\t\tparseInt(this.expWidth));\r\n\t\t\t\tthis.expHeight && (this.exportHeight = this.expHeight.indexOf('rpx') >= 0 ? parseInt(this.expHeight) * this.pxRatio :\r\n\t\t\t\t\tparseInt(this.expHeight));\r\n\r\n\t\t\t\tif (this.styleDisplay === 'flex') {\r\n\t\t\t\t\tthis.fDrawInit(true);\r\n\t\t\t\t}\r\n\t\t\t\tthis.fHideImg();\r\n\t\t\t},\r\n\t\t\tfSelect() {\n        let self=this;\r\n\t\t\t\tif (this.fSelecting) return;\r\n\t\t\t\tthis.fSelecting = true;\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.fSelecting = false;\r\n\t\t\t\t}, 500);\r\n\r\n\t\t\t\tuni.chooseImage({\r\n\t\t\t\t\tcount: 1,\r\n\t\t\t\t\tsizeType: ['original', 'compressed'],\r\n\t\t\t\t\tsourceType: ['camera', 'album'],\r\n\t\t\t\t\tsuccess: (r) => {\r\n\t\t\t\t\t\tuni.showLoading({\r\n\t\t\t\t\t\t\tmask: true\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tlet path = this.imgPath = r.tempFilePaths[0];\r\n\t\t\t\t\t\tuni.getImageInfo({\r\n\t\t\t\t\t\t\tsrc: path,\r\n\t\t\t\t\t\t\tsuccess: r => {\r\n\t\t\t\t\t\t\t\tthis.imgWidth = r.width;\r\n\t\t\t\t\t\t\t\tthis.imgHeight = r.height;\r\n\t\t\t\t\t\t\t\tthis.path = path;\r\n\t\t\t\t\t\t\t\tif (!this.hasSel) {\r\n\t\t\t\t\t\t\t\t\tlet style = this.selStyle || {};\r\n\t\t\t\t\t\t\t\t\tif (this.selWidth && this.selHeight) {\r\n\t\t\t\t\t\t\t\t\t\tlet selWidth = this.selWidth.indexOf('rpx') >= 0 ? parseInt(this.selWidth) * this.pxRatio :\r\n\t\t\t\t\t\t\t\t\t\t\tparseInt(this.selWidth),\r\n\t\t\t\t\t\t\t\t\t\t\tselHeight = this.selHeight.indexOf('rpx') >= 0 ? parseInt(this.selHeight) * this.pxRatio :\r\n\t\t\t\t\t\t\t\t\t\t\tparseInt(this.selHeight);\r\n\t\t\t\t\t\t\t\t\t\tstyle.width = parseInt(selWidth);\r\n\t\t\t\t\t\t\t\t\t\tstyle.height = parseInt(selHeight);\r\n\t\t\t\t\t\t\t\t\t\tstyle.top = parseInt((this.windowHeight - style.height - tabHeight) / 2);\r\n\t\t\t\t\t\t\t\t\t\tstyle.left = parseInt((this.windowWidth - style.width) / 2);\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: '裁剪框的宽或高没有设置',\r\n\t\t\t\t\t\t\t\t\t\t\tshowCancel: false\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tthis.selStyle = style;\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tif (!!self.noBar) {\r\n\t\t\t\t\t\t\t\t\tself.fDrawInit(true);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tuni.hideTabBar({\r\n\t\t\t\t\t\t\t\t\t\tcomplete: () => {\r\n\t\t\t\t\t\t\t\t\t\t\tself.fDrawInit(true);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tfail: () => {\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: \"error3\",\r\n\t\t\t\t\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tcomplete() {\r\n\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tfUpload() {\r\n\t\t\t\tif (this.fUploading) return;\r\n\t\t\t\tthis.fUploading = true;\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.fUploading = false;\r\n\t\t\t\t}, 1000)\r\n\r\n\t\t\t\tlet style = this.selStyle,\r\n\t\t\t\t\tx = parseInt(style.left),\r\n\t\t\t\t\ty = parseInt(style.top),\r\n\t\t\t\t\twidth = parseInt(style.width),\r\n\t\t\t\t\theight = parseInt(style.height),\r\n\t\t\t\t\texpWidth = this.exportWidth || width,\r\n\t\t\t\t\texpHeight = this.exportHeight || height;\r\n\r\n\t\t\t\t// #ifdef H5\r\n\t\t\t\t// x *= this.pixelRatio;\r\n\t\t\t\t// y *= this.pixelRatio;\r\n\t\t\t\t// expWidth = width;\r\n\t\t\t\t// expHeight = height;\r\n\t\t\t\t// #endif\r\n\r\n\t\t\t\tthis.styleDisplay = 'none';\r\n\t\t\t\tthis.styleTop = '-10000px';\r\n\t\t\t\tthis.hasSel = false;\r\n\t\t\t\tthis.fHideImg();\r\n\t\t\t\tuni.canvasToTempFilePath({\r\n\t\t\t\t\tx: x,\r\n\t\t\t\t\ty: y,\r\n\t\t\t\t\twidth: width,\r\n\t\t\t\t\theight: height,\r\n\t\t\t\t\tdestWidth: expWidth,\r\n\t\t\t\t\tdestHeight: expHeight,\r\n\t\t\t\t\tcanvasId: 'avatar-canvas',\r\n\t\t\t\t\tfileType: 'png',\r\n\t\t\t\t\tquality: this.qlty,\r\n\t\t\t\t\tsuccess: (r) => {\r\n\t\t\t\t\t\tr = r.tempFilePath;\r\n\t\t\t\t\t\t// #ifdef H5\r\n\t\t\t\t\t\tthis.btop(r).then((r) => {\r\n\t\t\t\t\t\t\tif (this.exportWidth && this.exportHeight) {\r\n\t\t\t\t\t\t\t\tlet ctxCanvas = this.ctxCanvas;\r\n\t\t\t\t\t\t\t\texpWidth = this.exportWidth,\r\n\t\t\t\t\t\t\t\t\texpHeight = this.exportHeight;\r\n\r\n\t\t\t\t\t\t\t\tctxCanvas.drawImage(r, 0, 0, expWidth, expHeight);\r\n\t\t\t\t\t\t\t\tctxCanvas.draw(false, () => {\r\n\t\t\t\t\t\t\t\t\tuni.canvasToTempFilePath({\r\n\t\t\t\t\t\t\t\t\t\tx: 0,\r\n\t\t\t\t\t\t\t\t\t\ty: 0,\r\n\t\t\t\t\t\t\t\t\t\twidth: expWidth,\r\n\t\t\t\t\t\t\t\t\t\theight: expHeight,\r\n\t\t\t\t\t\t\t\t\t\tdestWidth: expWidth,\r\n\t\t\t\t\t\t\t\t\t\tdestHeight: expHeight,\r\n\t\t\t\t\t\t\t\t\t\tcanvasId: 'avatar-canvas',\r\n\t\t\t\t\t\t\t\t\t\tfileType: 'png',\r\n\t\t\t\t\t\t\t\t\t\tquality: this.qlty,\r\n\t\t\t\t\t\t\t\t\t\tsuccess: (r) => {\r\n\t\t\t\t\t\t\t\t\t\t\tr = r.tempFilePath;\r\n\t\t\t\t\t\t\t\t\t\t\tthis.btop(r).then((r) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tthis.$emit(\"upload\", {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tavatar: this.imgSrc,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tpath: r,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tindex: this.indx\r\n\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\tfail: () => {\r\n\t\t\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\t\t\ttitle: \"error0\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthis.$emit(\"upload\", {\r\n\t\t\t\t\t\t\t\t\tavatar: this.imgSrc,\r\n\t\t\t\t\t\t\t\t\tpath: r,\r\n\t\t\t\t\t\t\t\t\tindex: this.indx\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t// #endif\r\n\t\t\t\t\t\t// #ifndef H5\r\n\t\t\t\t\t\tthis.$emit(\"upload\", {\r\n\t\t\t\t\t\t\tavatar: this.imgSrc,\r\n\t\t\t\t\t\t\tpath: r,\r\n\t\t\t\t\t\t\tindex: this.indx\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t// #endif\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: (res) => {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: \"error1\",\r\n\t\t\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t},\r\n\t\t\t\t\tcomplete: () => {\r\n\t\t\t\t\t\tthis.noBar || uni.showTabBar();\r\n\t\t\t\t\t}\r\n\t\t\t\t}, this);\r\n\t\t\t},\r\n\t\t\tfDrawInit(ini = false) {\r\n\t\t\t\tlet allWidth = this.windowWidth,\r\n\t\t\t\t\tallHeight = this.windowHeight,\r\n\t\t\t\t\timgWidth = this.imgWidth,\r\n\t\t\t\t\timgHeight = this.imgHeight,\r\n\t\t\t\t\timgRadio = imgWidth / imgHeight,\r\n\t\t\t\t\tuseWidth = allWidth,\r\n\t\t\t\t\tuseHeight = allHeight - tabHeight,\r\n\t\t\t\t\tpixelRatio = this.pixelRatio,\r\n\t\t\t\t\tselWidth = parseInt(this.selStyle.width),\r\n\t\t\t\t\tselHeight = parseInt(this.selStyle.height);\r\n\r\n\t\t\t\tthis.fixWidth = 0;\r\n\t\t\t\tthis.fixHeight = 0;\r\n\r\n\t\t\t\tif (this.fixWidth) {\r\n\t\t\t\t\tuseWidth = selWidth;\r\n\t\t\t\t\tuseHeight = useWidth / imgRadio;\r\n\t\t\t\t} else if (this.fixHeight) {\r\n\t\t\t\t\tuseHeight = selHeight;\r\n\t\t\t\t\tuseWidth = useHeight * imgRadio;\r\n\t\t\t\t} else if (imgRadio < 1) {\r\n\t\t\t\t\tuseWidth = selWidth;\r\n\t\t\t\t\tuseHeight = parseInt(useWidth / imgRadio);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuseHeight = selHeight;\r\n\t\t\t\t\tuseWidth = parseInt(useHeight * imgRadio);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.scaleSize = 1;\r\n\t\t\t\tthis.rotateDeg = 0;\r\n\t\t\t\tthis.posWidth = parseInt((allWidth - useWidth) / 2);\r\n\t\t\t\tthis.posHeight = parseInt((allHeight - useHeight - tabHeight) / 2);\r\n\t\t\t\tthis.useWidth = useWidth;\r\n\t\t\t\tthis.useHeight = useHeight;\r\n\t\t\t\tlet style = this.selStyle,\r\n\t\t\t\t\tleft = parseInt(style.left),\r\n\t\t\t\t\ttop = parseInt(style.top),\r\n\t\t\t\t\twidth = parseInt(style.width),\r\n\t\t\t\t\theight = parseInt(style.height),\r\n\t\t\t\t\tcanvas = this.canvas,\r\n\t\t\t\t\tcanvasOper = this.canvasOper,\r\n\t\t\t\t\tctxCanvas = this.ctxCanvas,\r\n\t\t\t\t\tctxCanvasOper = this.ctxCanvasOper;\r\n\t\t\t\tctxCanvasOper.setFillStyle('rgba(0,0,0, 0.5)');\r\n\t\t\t\tctxCanvasOper.fillRect(0, 0, this.windowWidth, top);\r\n\t\t\t\tctxCanvasOper.fillRect(0, top, left, height);\r\n\t\t\t\tctxCanvasOper.fillRect(0, top + height, this.windowWidth, this.windowHeight - height - tabHeight - top);\r\n\t\t\t\tctxCanvasOper.fillRect(left + width, top, this.windowWidth - width - left, height);\r\n\t\t\t\tctxCanvasOper.setLineWidth(1);\r\n\t\t\t\tctxCanvasOper.setStrokeStyle('rgba(255, 255, 255,1)'); //细线的颜色\r\n\t\t\t\tctxCanvasOper.strokeRect(left, top, width, height);\n       \t// #ifdef H5\n        ctxCanvasOper.draw();\n        // #endif\r\n\t\t\t\tctxCanvasOper.setLineWidth(3);\r\n\t\t\t\tctxCanvasOper.setStrokeStyle('rgba(255, 255, 255, 1)'); //粗线的颜色\r\n\t\t\t\tctxCanvasOper.moveTo(left + 20, top);\r\n\t\t\t\tctxCanvasOper.lineTo(left, top);\r\n\t\t\t\tctxCanvasOper.lineTo(left, top + 20);\r\n\t\t\t\tctxCanvasOper.moveTo(left + width - 20, top);\r\n\t\t\t\tctxCanvasOper.lineTo(left + width, top);\r\n\t\t\t\tctxCanvasOper.lineTo(left + width, top + 20);\r\n\t\t\t\tctxCanvasOper.moveTo(left + 20, top + height);\r\n\t\t\t\tctxCanvasOper.lineTo(left, top + height);\r\n\t\t\t\tctxCanvasOper.lineTo(left, top + height - 20);\r\n\t\t\t\tctxCanvasOper.moveTo(left + width - 20, top + height);\r\n\t\t\t\tctxCanvasOper.lineTo(left + width, top + height);\r\n\t\t\t\tctxCanvasOper.lineTo(left + width, top + height - 20);\r\n\t\t\t\tctxCanvasOper.stroke();\r\n\t\t\t\tthis.postFirst = {\r\n\t\t\t\t\tleft: left,\r\n\t\t\t\t\ttop: top,\r\n\t\t\t\t\twidth: width,\r\n\t\t\t\t\theight: selWidth,\r\n\t\t\t\t\tposWidth: this.posWidth,\r\n\t\t\t\t\tposHeight: this.posHeight\r\n\t\t\t\t};\n          // #ifdef MP-WEIXIN\r\n\t\t\t\tctxCanvasOper.draw(false, () => {\r\n\t\t\t\t\tif (ini) {\r\n\t\t\t\t\t\tthis.styleDisplay = 'flex';\r\n\t\t\t\t\t\tthis.styleTop = '0';\r\n\t\t\t\t\t\tctxCanvas.setFillStyle('black');\r\n\t\t\t\t\t\tthis.fDrawImage();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\n        // #endif\n        // #ifdef H5\n        ctxCanvasOper.draw(true, () => {\n        \tif (ini) {\n        \t\tthis.styleDisplay = 'flex';\n        \t\tthis.styleTop = this.drawTop + 'px';\n        \t\tctxCanvas.setFillStyle('black');\n        \t\tthis.fDrawImage();\n        \t}\n        });\n\n        \t// #endif\r\n\r\n\t\t\t\tthis.$emit(\"avtinit\");\r\n\t\t\t},\r\n\t\t\tfDrawImage() {\r\n\t\t\t\tlet tm_now = Date.now();\r\n\t\t\t\tif ((tm_now - this.drawTm )< 20) return;\r\n\t\t\t\tthis.drawTm = tm_now;\r\n\t\t\t\tlet ctxCanvas = this.ctxCanvas;\r\n\t\t\t\tctxCanvas.fillRect(0, 0, this.windowWidth, this.windowHeight - tabHeight);\r\n\t\t\t\t//中心点坐标\r\n\t\t\t\tctxCanvas.translate(this.posWidth + this.useWidth / 2, this.posHeight + this.useHeight / 2);\r\n\t\t\t\t//比例缩放\r\n\t\t\t\tctxCanvas.scale(this.scaleSize, this.scaleSize);\r\n\t\t\t\tctxCanvas.drawImage(this.imgPath, -this.useWidth / 2, -this.useHeight / 2, this.useWidth, this.useHeight);\r\n\t\t\t\tctxCanvas.draw(false);\r\n\t\t\t},\r\n\t\t\tfHideImg() {\r\n\t\t\t\tthis.prvImg = '';\r\n\t\t\t\tthis.prvTop = '-10000px';\r\n\t\t\t\tthis.showOper = true;\r\n\t\t\t\tthis.prvImgData = null;\r\n\t\t\t\tthis.target = null;\r\n\t\t\t},\r\n\t\t\tfClose() {\r\n\t\t\t\tthis.styleDisplay = 'none';\r\n\t\t\t\tthis.styleTop = '-10000px';\r\n\t\t\t\tthis.hasSel = false;\r\n\t\t\t\tthis.fHideImg();\r\n\t\t\t\tthis.noBar || uni.showTabBar();\r\n\t\t\t},\n      // #ifdef MP-WEIXIN\r\n\t\t\tfStart(e) {\r\n\t\t\t\tlet touches = e.touches,\r\n\t\t\t\t\ttouch0 = touches[0],\r\n\t\t\t\t\ttouch1 = touches[1];\r\n\r\n\t\t\t\tthis.touch0 = touch0;\r\n\t\t\t\tthis.touch1 = touch1;\r\n\r\n\t\t\t\tif (touch1) {\n         let x = touch1.x - touch0.x,\n         \ty = touch1.y - touch0.y;\n         this.fgDistance = Math.sqrt(x * x + y * y);\r\n\r\n\t\t\t\t}\r\n\t\t\t},\n      // #endif\n      // #ifdef H5\n      fStart(e) {\n      \tlet touches = e.touches,\n      \t\ttouch0 = touches[0],\n      \t\ttouch1 = touches[1];\n\n      \tthis.touch0 = touch0;\n      \tthis.touch1 = touch1;\n\n      \tif (touch1) {\n            let x = touch1.clientX - touch0.clientX,\n            \ty = touch1.clientY - touch0.clientY;\n            this.fgDistance = Math.sqrt(x * x + y * y);\n      \t}\n      },\n      // #endif\n      // #ifdef MP-WEIXIN\r\n\t\t\tfMove(e) {\r\n\t\t\t\tlet touches = e.touches,\r\n\t\t\t\t\ttouch0 = touches[0],\r\n\t\t\t\t\ttouch1 = touches[1];\r\n\r\n\t\t\t\tif (touch1) {\r\n\t\t\t\t\tlet x = touch1.x - touch0.x,\r\n\t\t\t\t\t\ty = touch1.y - touch0.y,\r\n\t\t\t\t\t\tfgDistance = Math.sqrt(x * x + y * y),\r\n\t\t\t\t\t\tscaleSize = 0.005 * (fgDistance - this.fgDistance),\r\n\t\t\t\t\t\tbeScaleSize = this.scaleSize + scaleSize;\r\n\r\n\t\t\t\t\tdo {\r\n\t\t\t\t\t\tif (!this.letScale) break;\r\n\t\t\t\t\t\tif (beScaleSize < this.mnScale) break;\r\n\t\t\t\t\t\tif (beScaleSize > this.mxScale) break;\r\n\t\t\t\t\t\tthis.scaleSize = beScaleSize;\r\n\t\t\t\t\t} while (0);\r\n\t\t\t\t\tthis.fgDistance = fgDistance;\r\n\r\n\t\t\t\t\tif (touch1.x !== touch0.x && this.letRotate) {\r\n\t\t\t\t\t\tx = (this.touch1.y - this.touch0.y) / (this.touch1.x - this.touch0.x);\r\n\t\t\t\t\t\ty = (touch1.y - touch0.y) / (touch1.x - touch0.x);\r\n\t\t\t\t\t\tthis.rotateDeg += Math.atan((y - x) / (1 + x * y)) * 180 / Math.PI;\r\n\t\t\t\t\t\tthis.touch0 = touch0;\r\n\t\t\t\t\t\tthis.touch1 = touch1;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthis.fDrawImage();\r\n\t\t\t\t} else if (this.touch0) {\r\n\t\t\t\t\tlet x = touch0.x - this.touch0.x,\r\n\t\t\t\t\t\ty = touch0.y - this.touch0.y,\r\n\t\t\t\t\t\tbeX = this.posWidth + x,\r\n\t\t\t\t\t\tbeY = this.posHeight + y;\r\n\t\t\t\t\t\tif (Math.abs(x) < 100 && !this.lckWidth) this.posWidth = beX;\r\n\t\t\t\t\t\tif (Math.abs(y) < 100 && !this.lckHeight) this.posHeight = beY;\r\n\t\t\t\t\tthis.touch0 = touch0;\r\n\t\t\t\t\tthis.fDrawImage();\r\n\t\t\t\t}\r\n\t\t\t},\n        // #endif\n      \t// #ifdef H5\n        fMove(e) {\n        \tlet touches = e.touches,\n        \t\ttouch0 = touches[0],\n        \t\ttouch1 = touches[1];\n\n        \tif (touch1) {\n        \t\tlet x = touch1.clientX - touch0.clientX,\n        \t\t\ty = touch1.clientY - touch0.clientY,\n        \t\t\tfgDistance = Math.sqrt(x * x + y * y),\n        \t\t\tscaleSize = 0.005 * (fgDistance - this.fgDistance),\n        \t\t\tbeScaleSize = this.scaleSize + scaleSize;\n\n        \t\tdo {\n        \t\t\tif (!this.letScale) break;\n        \t\t\tif (beScaleSize < this.mnScale) break;\n        \t\t\tif (beScaleSize > this.mxScale) break;\n        \t\t\tthis.scaleSize = beScaleSize;\n        \t\t} while (0);\n        \t\tthis.fgDistance = fgDistance;\n\n        \t\tif (touch1.x !== touch0.x && this.letRotate) {\n        \t\t\tx = (this.touch1.clientY - this.touch0.clientY) / (this.touch1.clientX - this.touch0.clientX);\n        \t\t\ty = (touch1.clientY - touch0.clientY) / (touch1.clientX - touch0.clientX);\n        \t\t\tthis.rotateDeg += Math.atan((y - x) / (1 + x * y)) * 180 / Math.PI;\n        \t\t\tthis.touch0 = touch0;\n        \t\t\tthis.touch1 = touch1;\n        \t\t}\n\n        \t\tthis.fDrawImage();\n        \t} else if (this.touch0) {\n            let x=touch0.clientX - this.touch0.clientX,\n            y=touch0.clientY - this.touch0.clientY,\n        \t\t// let x = touch0.x - this.touch0.x,\n        \t\t// \ty = touch0.y - this.touch0.y,\n        \t\t\tbeX = this.posWidth + x,\n        \t\t\tbeY = this.posHeight + y;\n        \t\t\tif (Math.abs(x) < 100 && !this.lckWidth) this.posWidth = beX;\n        \t\t\tif (Math.abs(y) < 100 && !this.lckHeight) this.posHeight = beY;\n        \t\tthis.touch0 = touch0;\n        \t\tthis.fDrawImage();\n        \t}\n        },\n        \t// #endif\r\n\t\t\tasync fEnd(e) {\r\n\t\t\t\tlet self = this;\r\n\t\t\t\tlet touches = e.touches,\r\n\t\t\t\t\ttouch0 = touches && touches[0],\r\n\t\t\t\t\ttouch1 = touches && touches[1];\r\n\t\t\t\tif (self.scaleSize < 1) {\r\n\t\t\t\t\tlet style = self.selStyle;\r\n\t\t\t\t\tlet imgRadio = self.imgWidth / self.imgHeight;\r\n\t\t\t\t\t//高长宽短\r\n\t\t\t\t\tif (imgRadio < 1 && self.scaleSize * self.useWidth < style.width) {\r\n\t\t\t\t\t\tself.posWidth = style.left;\r\n\t\t\t\t\t\tself.scaleSize = 1\r\n\t\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\t\tself.fDrawImage();\r\n\t\t\t\t\t\t}, 100)\r\n\t\t\t\t\t} else if (self.scaleSize * self.useHeight < style.width) {\r\n\t\t\t\t\t\t//高短宽长\r\n\t\t\t\t\t\tself.posHeight = style.top;\r\n\t\t\t\t\t\tself.scaleSize = 1\r\n\t\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\t\tself.fDrawImage();\r\n\t\t\t\t\t\t}, 100)\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (this.scaleSize == 1) {\r\n\t\t\t\t\tlet endWidth = this.posWidth - this.postFirst.posWidth,\r\n\t\t\t\t\t\tfirstWidth = this.postFirst.left - this.postFirst.posWidth;\r\n\t\t\t\t\tlet endHeight = this.posHeight - this.postFirst.posHeight,\r\n\t\t\t\t\t\tfirstHigth = this.postFirst.top - this.postFirst.posHeight;\r\n\t\t\t\t\tif (endWidth > 0 && this.posWidth > this.postFirst.left) {\r\n\t\t\t\t\t\t//右滑动过长\r\n\t\t\t\t\t\tthis.posWidth = this.postFirst.left;\r\n\t\t\t\t\t} else if (endWidth < 0 && endWidth < firstWidth) {\r\n\t\t\t\t\t\t//左滑动过长\r\n\t\t\t\t\t\tthis.posWidth = -this.postFirst.left + this.postFirst.posWidth * 2;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (endHeight < 0 && this.posHeight < this.postFirst.top) {\r\n\t\t\t\t\t\t//上滑动过长\r\n\t\t\t\t\t\tthis.posHeight = -this.postFirst.top + this.postFirst.posHeight * 2 ;\r\n\t\t\t\t\t} else if (endHeight > 0 && endHeight > firstHigth) {\r\n\t\t\t\t\t\t//下滑动过长\r\n\t\t\t\t\t\tthis.posHeight = this.postFirst.top;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\tself.fDrawImage();\r\n\t\t\t\t\t}, 100);\r\n\r\n\t\t\t\t}\r\n\t\t\t\tif (touch0) {\r\n\t\t\t\t\tthis.touch0 = touch0;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.touch0 = null;\r\n\t\t\t\t\tthis.touch1 = null;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tbtop(base64) {\r\n\t\t\t\treturn new Promise(function(resolve, reject) {\r\n\t\t\t\t\tvar arr = base64.split(','),\r\n\t\t\t\t\t\tmime = arr[0].match(/:(.*?);/)[1],\r\n\t\t\t\t\t\tbstr = atob(arr[1]),\r\n\t\t\t\t\t\tn = bstr.length,\r\n\t\t\t\t\t\tu8arr = new Uint8Array(n);\r\n\t\t\t\t\twhile (n--) {\r\n\t\t\t\t\t\tu8arr[n] = bstr.charCodeAt(n);\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn resolve((window.URL || window.webkitURL).createObjectURL(new Blob([u8arr], {\r\n\t\t\t\t\t\ttype: mime\r\n\t\t\t\t\t})));\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"less\">\r\n\t.my-canvas {\r\n\t\tdisplay: flex;\r\n\t\tposition: fixed !important;\r\n\t\tbackground: #000000;\r\n\t\tleft: 0;\r\n\t\tz-index: 100;\r\n\t\twidth: 100%;\r\n\t}\r\n\r\n\t.my-avatar {\r\n\t\twidth: 100vw;\r\n\t\theight: 100vw;\r\n\t}\r\n\r\n\t.oper-canvas {\r\n\t\tdisplay: flex;\r\n\t\tposition: fixed !important;\r\n\t\tleft: 0;\r\n\t\tz-index: 101;\r\n\t\twidth: 100%;\r\n\t}\r\n\r\n\t.oper-wrapper {\r\n\t\theight: 71px;\r\n\t\tposition: fixed !important;\r\n\t\tbox-sizing: border-box;\r\n\t\twidth: 100%;\r\n\t\tleft: 0;\r\n\t\tbottom: 0;\r\n\t\tz-index: 200;\r\n\t\tflex-direction: row;\r\n\t}\r\n\r\n\t.btn-wrapper {\r\n\t\tbackground-color: #000000;\r\n\t\tcolor: #ffffff;\r\n\t\tdisplay: flex;\r\n\t\theight: 100%;\r\n\t\twidth: 100%;\r\n\t\tjustify-content: space-around;\r\n\t\talign-items: center\r\n\t}\r\n\r\n\t.btn-wrapper view {\r\n\t\twidth: 160rpx;\r\n\t\theight: 80rpx;\r\n\t\tline-height: 80rpx;\r\n\t\ttext-align: center;\r\n\t\tfont-size: 16px;\r\n\t\tcolor: #ffffff;\r\n\t\tz-index: 300;\r\n\t}\r\n\r\n\t.hover {\r\n\t\tcolor: #f1f1f1;\r\n\t}\r\n</style>\n","import mod from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./lxiaoxiao-cropper.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./lxiaoxiao-cropper.vue?vue&type=style&index=0&lang=less&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1641882988426\n      var cssReload = require(\"C:/Users/91645/Desktop/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}